<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Bullion Exchange</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:Montserrat,sans-serif;
  background:#0b0b0b;
  color:#f5e6c8;
}

/* TOP TAGLINE */
.ticker{
  background:#000;
  color:#d4af37;
  padding:12px 0;
  overflow:hidden;
  white-space:nowrap;
}
.ticker span{
  display:inline-block;
  padding-left:100%;
  animation:scroll 18s linear infinite;
}
@keyframes scroll{
  from{transform:translateX(0);}
  to{transform:translateX(-100%);}
}

/* BRAND */
.header{
  text-align:center;
  padding:40px 20px 20px;
}
.header h1{
  font-family:Playfair Display,serif;
  font-size:42px;
  color:#d4af37;
  margin:0;
}
.market-status{
  margin-top:10px;
  font-size:14px;
}

/* PRICES */
.prices{
  display:flex;
  justify-content:center;
  gap:30px;
  flex-wrap:wrap;
  margin-top:40px;
}
.card{
  background:#111;
  padding:30px;
  width:260px;
  border-radius:18px;
  text-align:center;
}
.card h2{
  font-family:Playfair Display,serif;
  color:#d4af37;
}
.price{
  font-size:32px;
}
.up{color:#00c389}
.down{color:#ff4d4d}
.same{color:#aaa}

/* UPDATED TIME */
.updated{
  text-align:center;
  margin-top:30px;
  font-size:13px;
  color:#bfa76a;
}

/* HISTORY */
.history{
  max-width:900px;
  margin:80px auto 40px;
  padding:0 20px;
}
.history h3{
  font-family:Playfair Display,serif;
  color:#d4af37;
}
table{
  width:100%;
  border-collapse:collapse;
}
td,th{
  padding:10px;
  border-bottom:1px solid #222;
}

/* NEWS */
.news{
  max-width:900px;
  margin:60px auto;
  padding:0 20px;
}
.news h3{
  font-family:Playfair Display,serif;
  color:#d4af37;
}
.news p{
  font-size:14px;
  color:#ccc;
}

/* FOOTER */
footer{
  text-align:center;
  padding:30px;
  font-size:13px;
  color:#888;
}
</style>
</head>

<body>

<div class="ticker">
  <span id="tickerText">Loading market data...</span>
</div>

<div class="header">
  <h1>Bullion Exchange</h1>
  <div class="market-status" id="marketStatus"></div>
</div>

<div class="prices" id="priceCards"></div>

<div class="updated">
  Last Updated: <span id="updatedTime">--</span>
</div>

<div class="history">
  <h3>Last 5 Updates</h3>
  <table id="historyTable"></table>
</div>

<div class="news">
  <h3>Market News</h3>
  <p id="newsText">Loading latest gold & silver news…</p>
</div>

<footer>
  Bullion Exchange is a premium market reference platform for Gold, Silver & Copper.<br>
  © Bullion Exchange • A Matangi Group Company
</footer>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbzLuzNFl0G77hfBCSpiMaEg6b8_yqsXobBlrYmvNZLpXTp6ScehlpkNGI0w4ZpPME94Gw/exec";

fetch(API_URL).then(r=>r.json()).then(data=>{
  const metals = ["Gold","Silver","Copper"];
  const prices = data.current;
  const history = data.history;

  // Market Status
  const day = new Date().getDay();
  marketStatus.innerHTML = day==0||day==6
    ? "<span class='down'>● Market Closed</span>"
    : "<span class='up'>● Market Open</span>";

  // Prices
  priceCards.innerHTML="";
  metals.forEach(m=>{
    const diff = prices[m].change;
    const cls = diff>0?"up":diff<0?"down":"same";
    priceCards.innerHTML+=`
      <div class="card">
        <h2>${m}</h2>
        <div class="price">₹ ${prices[m].price}
          <span class="${cls}">${diff>0?"▲":diff<0?"▼":"▬"}</span>
        </div>
      </div>`;
  });

  // Updated Time
  updatedTime.innerText = prices.updated;

  // Ticker
  tickerText.innerText =
    `Bullion Exchange • Gold ₹${prices.Gold.price} ${prices.Gold.change>0?"▲":prices.Gold.change<0?"▼":"▬"} | Silver ₹${prices.Silver.price} | Copper ₹${prices.Copper.price}`;

  // History
  historyTable.innerHTML = `
    <tr><th>Date</th><th>Gold</th><th>Silver</th><th>Copper</th></tr>`;
  history.forEach(h=>{
    historyTable.innerHTML+=`
      <tr>
        <td>${h.date}</td>
        <td>₹${h.Gold.price} ${h.Gold.icon}</td>
        <td>₹${h.Silver.price} ${h.Silver.icon}</td>
        <td>₹${h.Copper.price} ${h.Copper.icon}</td>
      </tr>`;
  });

  // News
  newsText.innerText = data.news;
});
</script>

</body>
</html>
